# let's do this the poor way
################################## get strains #################################
https://www.leafly.com/explore/sort-newest
setInterval(()=> $('.ga_Explore_LoadMore').click() ,2*1e3)
# wait to load
# @2017-11-19T15:58Z finds 2304 results instead of the promised 2327 but that's good enough
r = $('a > .strain-tile').toArray().map(Î¹=> location.origin + $(Î¹).parent().attr('href') )
r = _.uniq(r.sort(),true)
copy(JSON.stringify(r))
@device`ğ…©ğ…œğ…œğ…ªğ…«`.Î¹ = JSON.parse(p())
################################## get reviews #################################
q0 â† Î¹=> cn.log('scraping',Î¹)
q1 â† Î¹=>{ now â† Time().i ;if( ğ…‹ğ…°ğ…œğ…°ğ… + 20 < now ){ ğ…‹ğ…°ğ…œğ…°ğ… = now ;q0(Î¹) } } ;ğ…‹ğ…°ğ…œğ…°ğ… â† Time().i
@device`ğ…©ğ…œğ…œğ…ªğ…«`.Î¹.map(memoize_persist((Î¹,i2)=>{tâ†;
	r â† []
	for( iâ†0 ; ;i++ ){
		r2 â† (GET_L(`${Î¹}/reviews?page=${i}&sort=date`,2e5)+'')
			|>(Î¹=> (Î¹.match((t=/<a.*?href="(.*?)".*>Read Full Review<\/a>/).g)||[]).map(.match(t)[1]) )
		r.push(â€¦r2)
		if( r2.â€– ) q1([i2,i])
		else{ q0([i2,i]) ;break } }
	â†© r }))




# scrape strain data too
