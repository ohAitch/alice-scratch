#!/usr/bin/env ζ₁

‹ξ/do_s

‹ξ/JS_VAR fs ‹require 'fs'››
‹ξ/JS_VAR path ‹require 'path'››
‹ξ/JS_VAR _ ‹require 'underscore'››

‹ξ/JS_VAR repr_js ‹η/fn ‹v› ‹ξ/return
	‹ξ/JS_if_e ‹η/typeof_string ‹ι v 's'›› ‹ι v 's'›
	‹ξ/JS_if_e ‹η/typeof_string ‹ι v 'v'›› ‹η/~ ‹η/~ '"' ‹‹ι ‹‹ι ‹‹ι ‹ι v 'v'› 'replace'› '\\'
						‹η/~ '\\' '\\'›
						› 'replace'› '"' '\\"'› 'replace'› '\n' '\\n'›› '"'›
	‹ξ/JS_if_e ‹ξ/≠ ‹ι v 'v'› undefined› ‹ι v 'v'›
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/object'› ‹η/~ ‹η/~ '{' ‹‹ι ‹‹ι ‹‹ι v 'slice'› 1› 'map'› ‹η/fn ‹v› ‹ξ/return ‹η/~ ‹η/~ ‹repr_js ‹ι v 0›› ':'› ‹repr_js ‹ι v 1›››››› 'join'› ',\n\t\t\t'›› '}'›
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/array'› ‹η/~ ‹η/~ '[' ‹‹ι ‹‹ι ‹‹ι v 'slice'› 1› 'map'› repr_js› 'join'› ','›› ']'›
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/member_bare'› ‹η/~ ‹η/~ ‹repr_js ‹ι v 1›› '.'› ‹repr_js ‹ι v 2›››
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/member_val'› ‹η/~ ‹η/~ ‹η/~ ‹repr_js ‹ι v 1›› '['› ‹repr_js ‹ι v 2››› ']'›
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/JS_typeof'› ‹η/~ 'typeof ' ‹repr_js ‹ι v 1›››
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/return'› ‹η/~ 'return ' ‹repr_js ‹ι v 1›››
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/throw'› ‹η/~ 'throw ' ‹repr_js ‹ι v 1›››
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/JS_NOT'› ‹η/~ '!' ‹repr_js ‹ι v 1›››
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/JS_AND'› ‹η/~ ‹η/~ ‹η/~ ‹η/~ '(' ‹repr_js ‹ι v 1››› '&&'› ‹repr_js ‹ι v 2››› ')'›
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/JS_OR'› ‹η/~ ‹η/~ ‹η/~ ‹η/~ '(' ‹repr_js ‹ι v 1››› '||'› ‹repr_js ‹ι v 2››› ')'›
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/JS_>'› ‹η/~ ‹η/~ ‹η/~ ‹η/~ '(' ‹repr_js ‹ι v 1››› '>'› ‹repr_js ‹ι v 2››› ')'›
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/='› ‹η/~ ‹η/~ ‹η/~ ‹η/~ '(' ‹repr_js ‹ι v 1››› '==='› ‹repr_js ‹ι v 2››› ')'›
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/≠'› ‹η/~ ‹η/~ ‹η/~ ‹η/~ '(' ‹repr_js ‹ι v 1››› '!=='› ‹repr_js ‹ι v 2››› ')'›
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/assign'› ‹η/~ ‹η/~ ‹η/~ ‹η/~ '(' ‹repr_js ‹ι v 1››› ' = '› ‹repr_js ‹ι v 2››› ')'›
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/fn'› ‹η/~ ‹η/~ ‹η/~ ‹η/~ 'function(' ‹‹ι ‹‹ι ‹ι v 1› 'map'› repr_js› 'join'› ','›› ') {'› ‹repr_js ‹ι v 2››› '}'›
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/do_s'› ‹η/~ ‹η/~ '{' ‹‹ι ‹‹ι ‹‹ι v 'slice'› 1› 'map'› repr_js› 'join'› ';\n\t'›› '}'›
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/JS_if_e'› ‹η/~ ‹η/~ ‹η/~ ‹η/~ ‹η/~ ‹η/~ '(' ‹repr_js ‹ι v 1››› '? '› ‹repr_js ‹ι v 2››› ' :\n\t\t'› ‹repr_js ‹ι v 3››› ')'›
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/JS_if_s'› ‹η/~ ‹η/~ ‹η/~ ‹η/~ 'if (' ‹repr_js ‹ι v 1››› ') '› ‹repr_js ‹ι v 2››› ‹ξ/JS_if_e ‹ξ/= ‹ι v 'length'› 3› '' ‹η/~ '\n\telse ' ‹repr_js ‹ι v 3›››››
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/JS_while_s'› ‹η/~ ‹η/~ ‹η/~ 'while (' ‹repr_js ‹ι v 1››› ') '› ‹repr_js ‹ι v 2›››
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/JS_VAR'› ‹η/~ ‹η/~ ‹η/~ 'var ' ‹repr_js ‹ι v 1››› ' = '› ‹repr_js ‹ι v 2›››
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/JS_+'› ‹η/~ ‹η/~ ‹η/~ ‹η/~ '(' ‹repr_js ‹ι v 1››› '+'› ‹repr_js ‹ι v 2››› ')'›
	‹ξ/JS_if_e ‹ξ/= ‹ι ‹ι v 0› 's'› 'ξ/JS_instanceof'› ‹η/~ ‹η/~ ‹η/~ ‹η/~ '(' ‹repr_js ‹ι v 1››› ' instanceof '› ‹repr_js ‹ι v 2››› ')'›
		‹η/~ ‹η/~ ‹η/~ ‹repr_js ‹ι v 0›› '('› ‹‹ι ‹‹ι ‹‹ι v 'slice'› 1› 'map'› repr_js› 'join'› ','›› ')'›
	›››››››››››››››››››››››››
›››

‹ξ/JS_VAR repr_js_file ‹η/fn ‹v›
	‹ξ/return ‹η/~ '#!/usr/bin/env node\n' ‹‹ι ‹‹ι v 'map'› repr_js› 'join'› ';\n'›››
››

// ‹ξ/JS_VAR ξ_f ‹ξ/fn ‹in_ out› ‹ξ/do_s
// 	‹‹ι fs 'writeFileSync'› ‹η/~ ‹η/~ ‹η/~ out '/'› ‹ι ‹‹ι in_ 'match'› ~/([^\/]+)\.[^\/]+$/› 1›› '.js'› ‹repr_js_file ‹read_ξ ‹η/~ ‹‹ι fs 'readFileSync'› in_› ' '››››
// ›››
// ‹ξ_f ‹ι ‹ι process 'argv'› 2› ‹ι ‹ι process 'argv'› 3››
‹ξ/JS_VAR η_s ‹η/fn ‹in_› ‹ξ/return ‹repr_js_file in_››››
‹ξ/assign ‹ι module 'exports'› η_s›

›