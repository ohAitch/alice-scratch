#!/usr/bin/env ζ₁

‹ξ/do_s

‹ξ/JS_VAR fs ‹require 'fs'››
‹ξ/JS_VAR path ‹require 'path'››

‹ξ/JS_VAR ξ ‹require './ξ'››
‹ξ/JS_VAR η ‹require './η'››
‹ξ/JS_VAR φ ‹require './φ'››

‹ξ/JS_if_s ‹ξ/= ‹ι ‹ι process 'argv'› 1› __filename› ‹ξ/do_s
	‹ξ/JS_VAR in_ ‹‹ι ‹ι process 'argv'› 'slice'› 2 ‹Number '-1'›››
	‹ξ/JS_VAR out ‹ι ‹‹ι ‹ι process 'argv'› 'slice'› ‹Number '-1'›› 0››
	‹‹ι in_ 'map'› ‹η/fn ‹in_› ‹‹ι fs 'writeFileSync'› ‹η/~ ‹η/~ out '/'› ‹‹ι path 'basename'› in_ '.ζ₁'›› ‹ξ ‹η ‹φ ‹η/~ ‹‹ι fs 'readFileSync'› in_› ' '›››››››
››

›

/* builtins and macros

ξ/object
ξ/array
ξ/assign

ξ/=
ξ/≠
ξ/JS_NOT
ξ/JS_AND
ξ/JS_OR
ξ/JS_>

ξ/do_s
ξ/JS_if_e
ξ/JS_if_s
ξ/JS_while_s
ξ/return
ξ/throw

ξ/JS_VAR
ξ/JS_instanceof

η/member aka ι
η/+
η/~
η/fn

η/typeof_object
η/typeof_boolean
η/typeof_number
η/typeof_string
η/typeof_function

*/